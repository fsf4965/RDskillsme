(self.webpackChunkangular_io_example=self.webpackChunkangular_io_example||[]).push([[49],{9049:function(e,t,o){"use strict";o.r(t),o.d(t,{MyDevProjectsModule:function(){return K}});var c=o(8583),r=o(873),i=o(1494),n=o(2789),s=o(7716),a=o(4154),l=o(4655),d=o(7138),u=o(8295),p=o(6627),g=o(9983);function h(e,t){1&e&&(s.TgZ(0,"mat-header-cell",18),s._uU(1," My Project No. "),s.qZA())}function f(e,t){if(1&e&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",e.id," ")}}function m(e,t){1&e&&(s.TgZ(0,"mat-header-cell",18),s._uU(1," Project Name "),s.qZA())}function v(e,t){if(1&e&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",e.projectName," ")}}function Z(e,t){1&e&&(s.TgZ(0,"mat-header-cell",18),s._uU(1," Upload Status "),s.qZA())}function b(e,t){if(1&e&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",e.isuploaded," ")}}function _(e,t){1&e&&(s.TgZ(0,"mat-header-cell"),s._uU(1," View Detail/Upload "),s.qZA())}function j(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"mat-cell"),s.TgZ(1,"button",19),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().UploadFile(t.id)}),s._uU(2,"View/Upload"),s.qZA(),s.qZA()}}function D(e,t){1&e&&s._UZ(0,"mat-header-row")}function x(e,t){1&e&&s._UZ(0,"mat-row")}const A=function(){return[5,10,20]};let T=(()=>{class e{constructor(e,t,o,c){this.dev_projectService=e,this.route=t,this.router=o,this.accountDataShareService=c,this.currentDev_Project={},this.currentIndex=-1,this.isuploaded="",this.displayedColumns=["id","projectName","isuploaded","uploadfuncion"],this.dataSource=new n.by(this.dev_projects)}ngOnInit(){this.retrieveDev_Projects(),this.getAccountType()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}getAccountType(){return this.accountDataShareService.viewUserData().adminAccount}retrieveDev_Projects(){this.getAccountType()?this.dev_projectService.getAll().subscribe(e=>{this.dev_projects=e,this.dataSource=new n.by(this.dev_projects),console.log(e)},e=>{console.log(e)}):this.dev_projectService.findByCurrentAccountPro(this.accountDataShareService.viewUserData().id).subscribe(e=>{this.dev_projects=e,this.dataSource=new n.by(this.dev_projects),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,console.log(e)},e=>{console.log(e)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}refreshList(){this.retrieveDev_Projects(),this.currentDev_Project={},this.currentIndex=-1}setActiveDev_Project(e,t){this.currentDev_Project=e,this.currentIndex=t}removeAllDev_Projects(){this.dev_projectService.deleteAll().subscribe(e=>{console.log(e),this.refreshList()},e=>{console.log(e)})}UploadFile(e){this.router.navigate([e],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.d),s.Y36(l.gz),s.Y36(l.F0),s.Y36(d.F))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-my-dev-projects"]],viewQuery:function(e,t){if(1&e&&(s.Gf(r.NW,5),s.Gf(i.YE,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.paginator=e.first),s.iGM(e=s.CRH())&&(t.sort=e.first)}},decls:28,vars:5,consts:[[1,"placetable"],[1,"textbox"],[1,"table-format"],[1,"example-header"],["appearance","standard"],["matInput","","placeholder","Ex. javascript",3,"keyup"],["input",""],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","projectName"],["matColumnDef","isuploaded"],["matColumnDef","uploadfuncion"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-sort-header",""],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._uU(2,"P R O J E C T S"),s.qZA(),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"div",3),s.TgZ(5,"mat-form-field",4),s.TgZ(6,"mat-label"),s.TgZ(7,"mat-icon"),s._uU(8,"search"),s.qZA(),s._uU(9," Search... "),s.qZA(),s.TgZ(10,"input",5,6),s.NdJ("keyup",function(e){return t.applyFilter(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"table",7),s.ynx(13,8),s.YNc(14,h,2,0,"mat-header-cell",9),s.YNc(15,f,2,1,"mat-cell",10),s.BQk(),s.ynx(16,11),s.YNc(17,m,2,0,"mat-header-cell",9),s.YNc(18,v,2,1,"mat-cell",10),s.BQk(),s.ynx(19,12),s.YNc(20,Z,2,0,"mat-header-cell",9),s.YNc(21,b,2,1,"mat-cell",10),s.BQk(),s.ynx(22,13),s.YNc(23,_,2,0,"mat-header-cell",14),s.YNc(24,j,3,0,"mat-cell",10),s.BQk(),s.YNc(25,D,1,0,"mat-header-row",15),s.YNc(26,x,1,0,"mat-row",16),s.qZA(),s._UZ(27,"mat-paginator",17),s.qZA()),2&e&&(s.xp6(12),s.Q6J("dataSource",t.dataSource),s.xp6(13),s.Q6J("matHeaderRowDef",t.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",t.displayedColumns),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(4,A)))},directives:[u.KE,u.hX,p.Hw,g.Nt,n.BZ,i.YE,n.w1,n.fO,n.Dz,n.as,n.nj,r.NW,n.ge,i.nU,n.ev,n.XQ,n.Gk],styles:['@font-face{font-family:chonburi;src:url(/assets/fonts/Chonburi-Regular.ttf) format("truetype")}.placetable[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-image:url(/assets/images/projects/bg.png);width:100%;height:500px;text-align:center}.textbox[_ngcontent-%COMP%]{box-sizing:border-box;background-color:transparent;width:1400px;height:250px;color:azure;font-family:chonburi;border:4px solid ivory;font-size:150px;text-align:center;-webkit-animation:fadein 2s;animation:fadein 2s}@keyframes fadein{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}@font-face{font-family:bebas;src:url(/assets/fonts/BebasNeue-Regular.ttf) format("truetype")}button[_ngcontent-%COMP%]{font-family:bebas;background-color:#f3bbc0;font-size:1rem;padding:.5rem}.mat-row[_ngcontent-%COMP%]:nth-child(2n)   button[_ngcontent-%COMP%]{background-color:#fff;font-size:1rem;padding:.5rem}.mat-row[_ngcontent-%COMP%]:nth-child(2n){background-color:#f3bbc0}.mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}']}),e})();var w=o(1841),P=o(513),y=o(354),U=o(2238),k=o(3738),q=o(1657);let F=(()=>{class e{constructor(e,t){this.feedbackService=e,this.dialog=t}ngOnInit(){}openDialogDeleteFile(){this.dialog.open(P.F,{width:"250px"}).afterClosed().subscribe(e=>{console.log("The dialog was closed"),console.log("data returned from mat-dialog-close is ",e),e&&this.deleteFile()})}deleteFile(){this.feedbackService.deleteFile(this.feedbackUpload.id).subscribe(e=>{console.log(e)},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(q.k),s.Y36(U.uw))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-feedback-details"]],inputs:{feedbackUpload:"feedbackUpload"},decls:6,vars:2,consts:[[3,"href"],[3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"a"),s._uU(1),s.qZA(),s.TgZ(2,"a",0),s._uU(3," Download"),s.qZA(),s.TgZ(4,"button",1),s.NdJ("click",function(){return t.openDialogDeleteFile()}),s._uU(5,"Delete"),s.qZA()),2&e&&(s.xp6(1),s.Oqu(t.feedbackUpload.name),s.xp6(1),s.MGl("href","http://localhost:8080/skillsme/feedback_files/",t.feedbackUpload.id,"",s.LSH))},styles:[""]}),e})();function S(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(){return s.CHM(e),s.oxw().showFeedbacks(!1)}),s._uU(1,"Hide Feedbacks"),s.qZA()}}function C(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(){return s.CHM(e),s.oxw().showFeedbacks(!0)}),s._uU(1,"Show Files"),s.qZA()}}function N(e,t){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"div",6),s._UZ(2,"app-feedback-details",7),s.qZA(),s.qZA()),2&e){const e=t.$implicit;s.xp6(2),s.Q6J("feedbackUpload",e)}}let I=(()=>{class e{constructor(e){this.feedbackService=e,this.showFeedback=!1}ngOnInit(){}showFeedbacks(e){this.showFeedback=e,e&&(this.feedbackUploads=this.feedbackService.getFilesbyDevID(this.currentDev_ProjectID))}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(q.k))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-feedback-list"]],inputs:{currentDev_ProjectID:"currentDev_ProjectID"},decls:11,vars:6,consts:[[3,"click",4,"ngIf"],[3,"hidden"],[1,"panel","panel-primary"],[1,"panel-heading"],[4,"ngFor","ngForOf"],[3,"click"],[1,"panel-body"],[3,"feedbackUpload"]],template:function(e,t){1&e&&(s.TgZ(0,"h3"),s._uU(1,"Your feedbacks"),s.qZA(),s.TgZ(2,"ul"),s.YNc(3,S,2,0,"button",0),s.YNc(4,C,2,0,"button",0),s.TgZ(5,"div",1),s.TgZ(6,"div",2),s.TgZ(7,"div",3),s._uU(8,"List of Feedback"),s.qZA(),s.YNc(9,N,3,1,"div",4),s.ALo(10,"async"),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf",t.showFeedback),s.xp6(1),s.Q6J("ngIf",!t.showFeedback),s.xp6(1),s.Q6J("hidden",!t.showFeedback),s.xp6(4),s.Q6J("ngForOf",s.lcZ(10,4,t.feedbackUploads)))},directives:[c.O5,c.sg,F],pipes:[c.Ov],styles:["span[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e})();function Y(e,t){if(1&e&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&e){const e=s.oxw(3);s.xp6(1),s.hij("Account ID: ",e.currentDev_Project.accountId,"")}}function J(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(){return s.CHM(e),s.oxw(3).openDialogDeleteProject()}),s._uU(1," Delete this Developing Project "),s.qZA()}}function M(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"h3"),s._uU(2,"Your Files"),s.qZA(),s._uU(3),s.TgZ(4,"a",10),s._uU(5," Download"),s.qZA(),s.TgZ(6,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw(3).replace()}),s._uU(7," Replace the Current File"),s.qZA(),s._UZ(8,"br"),s.qZA()}if(2&e){const e=s.oxw(3);s.xp6(3),s.hij(" File Name: ",e.currentDev_Project.name," "),s.xp6(1),s.MGl("href","http://localhost:8080/skillsme/dev_projects/download/",e.currentDev_Project.id,"",s.LSH)}}const Q=function(e){return{width:e}};function O(e,t){if(1&e&&(s.TgZ(0,"div",15),s.TgZ(1,"div",16),s._uU(2),s.qZA(),s.qZA()),2&e){const e=s.oxw(4);s.xp6(1),s.Q6J("ngStyle",s.VKq(3,Q,e.progress.percentage+"%")),s.uIk("aria-valuenow",e.progress.percentage),s.xp6(1),s.hij(" ",e.progress.percentage,"% ")}}function H(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.YNc(1,O,3,5,"div",11),s.TgZ(2,"label",12),s.TgZ(3,"input",13),s.NdJ("change",function(t){return s.CHM(e),s.oxw(3).selectFile(t)}),s.qZA(),s.qZA(),s.TgZ(4,"button",14),s.NdJ("click",function(){return s.CHM(e),s.oxw(3).upload()}),s._uU(5,"Upload File"),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.currentFileUpload),s.xp6(3),s.Q6J("disabled",!e.selectedFiles)}}function z(e,t){if(1&e&&(s.TgZ(0,"div",15),s.TgZ(1,"div",16),s._uU(2),s.qZA(),s.qZA()),2&e){const e=s.oxw(4);s.xp6(1),s.Q6J("ngStyle",s.VKq(3,Q,e.progress.percentage+"%")),s.uIk("aria-valuenow",e.progress.percentage),s.xp6(1),s.hij(" ",e.progress.percentage,"% ")}}function B(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.YNc(1,z,3,5,"div",11),s.TgZ(2,"label",12),s.TgZ(3,"input",13),s.NdJ("change",function(t){return s.CHM(e),s.oxw(3).selectFile(t)}),s.qZA(),s.qZA(),s.TgZ(4,"button",14),s.NdJ("click",function(){return s.CHM(e),s.oxw(3).upload()}),s._uU(5,"Upload File"),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.currentFileUpload),s.xp6(3),s.Q6J("disabled",!e.selectedFiles)}}function E(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",2),s.TgZ(1,"div",3),s.TgZ(2,"mat-card",4),s.TgZ(3,"mat-card-title-group"),s.TgZ(4,"mat-card-title"),s.TgZ(5,"h3"),s._uU(6),s.qZA(),s.qZA(),s.TgZ(7,"mat-card-subtitle"),s._uU(8),s.ALo(9,"date"),s.qZA(),s.qZA(),s.TgZ(10,"mat-card-content"),s.TgZ(11,"p"),s._uU(12),s.qZA(),s.TgZ(13,"p"),s._uU(14),s.qZA(),s.YNc(15,Y,2,1,"p",0),s.qZA(),s.YNc(16,J,2,0,"button",5),s.qZA(),s.qZA(),s._UZ(17,"br"),s._UZ(18,"br"),s.TgZ(19,"mat-card",4),s.TgZ(20,"mat-card-content"),s.YNc(21,M,9,2,"div",0),s.YNc(22,H,6,2,"div",0),s.YNc(23,B,6,2,"div",0),s.TgZ(24,"div",6),s._UZ(25,"app-feedback-list",7),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).goToMy_Dev()}),s._uU(27,"Back to My Developing Project"),s.qZA(),s.TgZ(28,"p"),s._uU(29),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(6),s.hij("My Developing Project ",e.currentDev_Project.id," Detail"),s.xp6(2),s.hij("Created Date: ",s.xi3(9,11,e.currentProject.createdAt,"dd/MM/yyyy")," "),s.xp6(4),s.hij("Project Name: ",e.currentProject.name,""),s.xp6(2),s.hij("Project Description: ",e.currentProject.description," "),s.xp6(1),s.Q6J("ngIf",e.getAccountType()),s.xp6(1),s.Q6J("ngIf",!e.getAccountType()),s.xp6(5),s.Q6J("ngIf",e.currentDev_Project.isuploaded),s.xp6(1),s.Q6J("ngIf",e.replaced),s.xp6(1),s.Q6J("ngIf",!e.currentDev_Project.isuploaded),s.xp6(2),s.Q6J("currentDev_ProjectID",e.currentDev_ProjectID),s.xp6(4),s.Oqu(e.message)}}function R(e,t){1&e&&(s.TgZ(0,"div"),s._UZ(1,"br"),s.TgZ(2,"p"),s._uU(3,"Cannot access this Project..."),s.qZA(),s.qZA())}function L(e,t){if(1&e&&(s.TgZ(0,"div"),s.YNc(1,E,30,14,"div",1),s.YNc(2,R,4,0,"div",0),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.currentDev_Project.id),s.xp6(1),s.Q6J("ngIf",!e.currentDev_Project.id)}}const X=[{path:"",component:T},{path:":id",component:(()=>{class e{constructor(e,t,o,c,r,i){this.projectService=e,this.accountDataShareService=t,this.dev_projectService=o,this.route=c,this.router=r,this.dialog=i,this.currentDev_Project={id:"",isuploaded:"",accountId:"",projectId:"",createdAt:""},this.currentProject={id:"",name:"",description:"",typeAllowed:"",createdAt:""},this.currentFileUpload=null,this.progress={percentage:0},this.message="",this.messaged="",this.editable=!1,this.replaced=!1}ngOnInit(){this.message="",this.messaged="",this.getAccountType(),this.getAccountType()&&(this.editable=!0),this.getDev_Project(this.route.snapshot.params.id)}getAccountType(){return this.accountDataShareService.viewUserData().adminAccount}getDev_Project(e){this.messaged="",this.dev_projectService.get(e).subscribe(e=>{this.currentDev_Project=e,this.currentDev_ProjectID=this.currentDev_Project.id,console.log(e),null!=this.currentDev_Project.projectId?this.getProject(this.currentDev_Project.projectId):this.messaged="This Project has been deleted!"},e=>{console.log(e)})}getProject(e){this.projectService.get(e).subscribe(e=>{this.currentProject=e,console.log(e)},e=>{console.log(e)})}updateDev_Project(){this.message="",this.dev_projectService.update(this.currentDev_Project.id,this.currentDev_Project).subscribe(e=>{console.log(e),this.message=e.message?e.message:"This Dev_Project was updated successfully!"},e=>{console.log(e)}),this.getProject(this.currentDev_Project.projectId)}deleteDev_Project(){this.dev_projectService.delete(this.currentDev_Project.id).subscribe(e=>{console.log(e),alert("Delete Successfully"),this.router.navigate(["../"],{relativeTo:this.route})},e=>{console.log(e)})}resetForm(){this.getDev_Project(this.route.snapshot.params.id),this.getProject(this.currentDev_Project.projectId)}goToMy_Dev(){this.router.navigate(["../"],{relativeTo:this.route})}openDialogDeleteProject(){this.dialog.open(P.F,{width:"250px"}).afterClosed().subscribe(e=>{console.log("The dialog was closed"),console.log("data returned from mat-dialog-close is ",e),e&&this.deleteDev_Project()})}openDialogDeleteFile(){this.dialog.open(P.F,{width:"250px"}).afterClosed().subscribe(e=>{console.log("The dialog was closed"),console.log("data returned from mat-dialog-close is ",e),e&&this.deleteDev_Project()})}selectFile(e){this.selectedFiles=e.target.files}handleFileInput(e){this.currentFileUpload=e.item(0)}upload(){this.progress.percentage=0,this.currentFileUpload=this.selectedFiles.item(0),this.dev_projectService.upload(this.currentDev_ProjectID,this.currentFileUpload,"true").subscribe(e=>{e.type===w.dt.UploadProgress?(this.progress.percentage=Math.round(100*e.loaded/e.total),alert("file upload successfully"),this.getDev_Project(this.route.snapshot.params.id)):e instanceof w.Zn&&console.log("File is completely uploaded!")})}replace(){return this.replaced=!0,this.replace}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(y.Y),s.Y36(d.F),s.Y36(a.d),s.Y36(l.gz),s.Y36(l.F0),s.Y36(U.uw))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-my-dev-project-detail"]],decls:3,vars:2,consts:[[4,"ngIf"],["class","edit-form",4,"ngIf"],[1,"edit-form"],[1,"table-detail"],[1,"example-card"],["class","delete",3,"click",4,"ngIf"],[1,"my-2"],[3,"currentDev_ProjectID"],[3,"click"],[1,"delete",3,"click"],[3,"href"],["class","progress",4,"ngIf"],[1,"btn","btn-default"],["type","file",3,"change"],[1,"btn","btn-success",3,"disabled","click"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"]],template:function(e,t){1&e&&(s.TgZ(0,"p"),s._uU(1),s.qZA(),s.YNc(2,L,3,2,"div",0)),2&e&&(s.xp6(1),s.Oqu(t.messaged),s.xp6(1),s.Q6J("ngIf",!t.messaged))},directives:[c.O5,k.a8,k.C1,k.n5,k.$j,k.dn,I,c.PC],pipes:[c.uU],styles:[".mat-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#444}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:11px}.mat-card-content[_ngcontent-%COMP%]{font-size:14px}"]}),e})()}];let G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[l.Bz.forChild(X)],l.Bz]}),e})();var $=o(3679),V=o(7539);let K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[c.ez,G,u.lN,g.c,p.Ps,V.p9,$.UX,n.p0,i.JX,r.TU,k.QW,$.u5]]}),e})()}}]);